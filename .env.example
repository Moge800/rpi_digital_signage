# ========================================
# Signage Settings (表示設定)
# ========================================

# 自動更新間隔 (秒)
REFRESH_INTERVAL=10.0

# ライン名 (config/production_types/{LINE_NAME}.jsonと対応)
LINE_NAME=LINE_1

# UIテーマ (dark: ダークモード, light: ライトモード)
THEME=dark

# Kioskモード (true: 全画面表示, false: 通常ブラウザ)
KIOSK_MODE=true

# ログレベル制御
# DEBUG_LOG=true を設定するとロガーをデバッグ出力に切り替えます。
# もしくは直接 LOG_LEVEL=DEBUG|INFO|WARNING|ERROR を指定できます。
# DEBUG_LOG は優先的にデバッグモードを有効化します（LOG_LEVEL が未設定の場合）。
# DEBUG_LOG=false


# ========================================
# API Server Settings (APIサーバー設定)
# ========================================

# APIサーバーホスト (通常は変更不要)
API_HOST=127.0.0.1

# APIサーバーポート
API_PORT=8000


# ========================================
# Timeout & Recovery Settings (タイムアウト・復旧設定)
# ========================================

# PLC通信タイムアウト (秒) - この時間を超えると通信失敗
PLC_FETCH_TIMEOUT=3.0

# PLC通信連続失敗でプロセス終了する回数
PLC_FETCH_FAILURE_LIMIT=5

# フロントエンドからの再起動許可 (緊急用)
ALLOW_FRONTEND_RESTART=false

# フロントエンドのAPI通信タイムアウト (秒)
FRONTEND_API_TIMEOUT=3.0


# ========================================
# Watchdog Settings (監視プロセス設定)
# ========================================

# ヘルスチェック間隔 (秒)
WATCHDOG_INTERVAL=10.0

# 再起動までの連続失敗回数
WATCHDOG_FAILURE_LIMIT=3

# 再起動クールダウン (秒) - 初回再起動後の待機時間 (バックオフの先頭値)
WATCHDOG_RESTART_COOLDOWN=60.0

# 起動直後の猶予期間 (秒) - この期間は障害をカウントしない
WATCHDOG_STARTUP_GRACE=60.0

# バックオフ最大値 (秒) - 再起動失敗時に指数的に増加、この値が上限
WATCHDOG_BACKOFF_MAX=1800.0

# API起動待機の最大秒数 (実機で起動が遅い場合に増やす)
WATCHDOG_API_STARTUP_TIMEOUT=15

# API起動確認の間隔 (秒)
WATCHDOG_API_STARTUP_CHECK_INTERVAL=1.0


# ========================================
# PLC Connection Settings (PLC接続設定)
# ========================================

# PLCのIPアドレス
PLC_IP=192.168.0.10

# PLCのポート番号
PLC_PORT=5000

# 自動再接続有効化
AUTO_RECONNECT=true

# 再接続リトライ回数
RECONNECT_RETRY=3

#リトライ失敗後再起動
RECONNECT_RESTART=false

# 再接続待機時間 (秒)
RECONNECT_DELAY=2.0

# ダミーデータ読み取りモード (開発用)
DEBUG_DUMMY_READ=false

# PLC使用フラグ (false: ダミーデータ使用)
USE_PLC=true


# ========================================
# PLC Device Addresses (PLCデバイスアドレス)
# 実機環境に合わせて設定してください
# ========================================

# 時刻格納デバイス (BCD形式YMDhms、6ワード)
TIME_DEVICE=SD210

# 機種番号格納デバイス (0-15の整数)
PRODUCTION_TYPE_DEVICE=D100

# 計画生産数格納デバイス
PLAN_DEVICE=D101

# 実績生産数格納デバイス
ACTUAL_DEVICE=D102

# アラームフラグ格納デバイス (0: 正常, 1: アラーム)
ALARM_FLAG_DEVICE=D103

# アラームメッセージ格納デバイス (文字列)
ALARM_MSG_DEVICE=D104

# 稼働中フラグ格納デバイス (0: 停止, 1: 稼働中)
IN_OPERATING_DEVICE=D105

